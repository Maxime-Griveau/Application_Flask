{% extends "partials/conteneur.html" %}

{% block body %}
    <div class="container">
        <h1>Bienvenue sur l'application du permis de conduire</h1>
        <h2>Vous avez choisi d'afficher les données de n°{{depuis}} à n°{{jusque-1}}</h2>
        



        <style type="text/css">

            button{
                background:    #3d85c6;
                border:        1px solid #556699;
                border-radius: 11px;
                padding:       20px 45px;
                color:         #ffffff;
                display:       inline-block;
                font:          normal bold 26px/1 "Open Sans", sans-serif;
                text-align:    center;
            }

            a {
                text-decoration: none; 
                color: inherit; 
            
            }
            
            a:hover {
                text-decoration: underline; 
                color:aliceblue;
            }
              
            .tftable {
                font-size: 12px;
                color: #333333;
                width: 100%;
                border-width: 1px;
                border-color: #729ea5;
                border-collapse: collapse;
            }
    
            .tftable th {
                font-size: 16px;
                background-color: #acc8cc;
                border-width: 1px;
                padding: 8px;
                border-style: solid;
                border-color: #729ea5;
                text-align: left;
            }
    
            .tftable tr {
                background-color: #d4e3e5;
            }
    
            .tftable td {
                font-size: 12px;
                border-width: 1px;
                padding: 8px;
                border-style: solid;
                border-color: #729ea5;
            }
    
            .tftable tr:hover {
                background-color: #ffffff;
            }
            #row1 {
               font-size: 14px;
               font-weight: bold;
            
            
            }
            
        </style>
        
        <!--Il faudrait créer une logique pour que "depuis" ne soit jamais sous zéro (en utilisant max en python mais jinja ne semble pas le connaitre)-->

        <button type='button' name='suivant'>
            <a href="{{ url_for('permis', depuis=jusque+1, jusque=jusque+50) }}">Voir les 50 résultats suivants</a> <!--Des décallages se produisent mais je ne parviens pas à régler le soucis...-->
        </button>
        
        
        <button type='button' name='precedent'>
            <a href="{{ url_for('permis', depuis=depuis-50, jusque=depuis-1) }}">Voir les 50 résultats précédents</a>
        </button>
        
        

        <p></p>
                
        {% if depuis < jusque %}
        <table class="tftable" border="1">
            <tr>
                <th>#</th>
                <th>Nom de l'auto école</th>
                <th>Code Postal</th>
                <th>Ville</th>
                <th>Adresse</th>
                <th>Candidats au permis B</th>
                <th>Taux de réussite (%)</th>
            </tr>
            <tbody>{% for index in donnees_combinees[depuis:jusque] %} <!-- Pour chaque tuple dans ma liste de tuple, en prenant comme range les valeur depuis et jusque-->
               <tr>
                <td id="row1">
                  {{loop.index0+depuis}} <!--Affichage de la bonne valeur d'index, on part de zéro et on ajoute la valeur de depuis ; comme ça le numéro de ligne sera cohérent avec ce qui est demandé-->
                 
                </td>
                <td>
                    {{index[0]}}
                </td>
                <td>
                    {{index[1]}}
                </td>
                <td>
                    {{index[2]}}
                </td>
                <td>
                    {{index[3]}}
                </td>
                <td>
                    {{index[4]}}
                </td>
                <td>
                    {{index[5]}}   % 
                </td>

               </tr>{%endfor%}
                
                    
               {%else%}
               <h1>Votre plage de données n'est pas bonne.</h1>
                 
              
            </tbody>
        </table>
        
    </div>
  
  {%endif%}
{% endblock %}